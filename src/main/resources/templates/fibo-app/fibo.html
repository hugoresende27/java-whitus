<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{fibo-app/fragments/header :: header}">

</head>
<body class="bg-dark text-white">

<div th:insert="~{fibo-app/fragments/topmenu :: topmenu}"></div>

<div class="container-fluid p-3">

    <div class="row">

        <!--    HISTORY-->
        <div class="col-md-4">
            <h4>Last input</h4>
            <p>Start <span th:text="${{formData.start}}"></span></p>
            <p>End <span th:text="${{formData.end}}"></span></p>

            <hr>

            <h4>History</h4>
            <p>Performance time <span th:text="${time}"></span>ms</p>

            <table class="table table-stripped">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">type</th>
                    <th scope="col">start</th>
                    <th scope="col">end</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="mapEntry: ${allHistory}">
                    <td th:each="item : ${mapEntry.key}" th:text="${item.key}"></td>
                    <td th:each="item : ${mapEntry.key}" th:text="${item.value}"></td>
                    <td th:each="item : ${mapEntry.value}" th:text="${item.key}"></td>
                    <td th:each="item : ${mapEntry.value}" th:text="${item.value}"></td>
                </tr>

                </tbody>
            </table>
        </div>



        <!--    LIMITS-->
        <div class="col-md-4">
            <h1 class="text-white">Between Limits</h1>
            <form th:action="@{/fibo/between-limits}" th:method="get" th:object="${formData}" class="text-center p-3 m-3">

                <div class="input-group">
                    <label for="start2" class="form-label">Start
                        <h5>

                            <output id="parS2">
                                <span th:text="*{start}"></span>
                            </output>
                        </h5>
                    </label>
                    <input type="range" class="form-range" id="start2" th:field="*{start}"
                           min="0" max="10000" value="0"
                           oninput="document.getElementById('parS2').innerText = parseInt(this.value);parS2=parseInt(this.value)"
                    >


                </div>


                <div class="input-group">
                    <label for="end2" class="form-label">End
                        <h5>

                            <output id="parE2">
                                <span th:text="*{end}"></span>
                            </output>
                        </h5>
                    </label>
                    <input type="range" class="form-range" id="end2" th:field="*{end}"
                           min="10" max="10000" value="1" step="1"
                           oninput="document.getElementById('parE2').innerText = parseInt(this.value);parE2=parseInt(this.value)"
                    >
                </div>

                <div class="m-3 p-3 text-center">
                    <button type="submit" class="btn btn-primary">Send</button>
                </div>

                <div class="card text-dark" style="width: 25rem;">

                    <div class="card-body">
                        <h5 class="card-title">Fibonacci Sequence</h5>

                        <p  th:each="number : ${sequenceBetween}" th:text="${number}"></p>

                    </div>
                </div>

            </form>
        </div>

        <!--    INDEXS -->
        <div class="col-md-4">
            <h1 class="text-white">Between Index</h1>
            <form th:action="@{/fibo}" th:method="post" th:object="${formData}" class="text-center p-3 m-3">



                <div class="input-group text-center">
                    <label for="start" class="form-label">Start
                        <h5>

                            <output id="parS" >
                                <span th:text="*{start}"></span>
                            </output>
                        </h5>
                    </label>
                    <input type="range" class="form-range" id="start" th:field="*{start}"
                           min="0" max="1000"
                           oninput="document.getElementById('parS').innerText = parseInt(this.value);parS=parseInt(this.value)">

                </div>

                <div class="input-group">
                    <label for="end" class="form-label">End
                        <h5>

                            <output id="parE">
                                <span th:text="*{end}"></span>
                            </output>
                        </h5>
                    </label>
                    <input type="range" class="form-range" id="end" th:field="*{end}"
                           min="10" max="1000" step="1"
                           oninput="document.getElementById('parE').innerText = parseInt(this.value);parE=parseInt(this.value)">
                </div>

                <div class="m-3 p-3 text-center">
                    <button type="submit" class="btn btn-primary">Send</button>
                </div>

                <div class="card text-dark" style="width: 25rem;">


                    <div class="card-body">

                        <h5 class="card-title">Fibonacci Sequence</h5>

                        <p th:each="number : ${sequence}" th:text="${number}"></p>

                    </div>

                </div>




            </form>
        </div>


    </div>

    <div class="row">

        <!--    HISTORY-->
        <div class="col-md-4">

            <h4>History Time single calcs</h4>

            <table class="table table-stripped">
                <thead>
                <tr>
                    <th scope="col">Value</th>
                    <th scope="col">Time</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="item: ${allHistorySingle}">
                    <td th:text="${item.key}"></td>
                    <td th:text="${item.value}"></td>

                </tr>

                </tbody>
            </table>
        </div>

        <div class="col-md-4">
            <form th:action="@{/fibo/value}" th:method="get"  class="text-center p-3 m-3">



            <div class="input-group">
                <label for="val" class="form-label">Index
                    <input type="number" class="form-range" id="val" name="val" th:value="${val}">
                </label>


            </div>



            <div class="m-3 p-3 text-center">
                <button type="submit" class="btn btn-primary">Send</button>
            </div>

            <div class="card text-dark" style="width: 25rem;">

                <div class="card-body">
                    <h5 class="card-title">Fibonacci Value</h5>

                    <p  th:text="${fiboValue}"></p>

                </div>
            </div>

        </form>
        </div>
    </div>


</div>

<div th:insert="~{fibo-app/fragments/footer :: footer}">&copy</div>
</body>
</html>